\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mycompounds}

\DeclareOption*{\PackageWarningNoLine{mycompounds}{Unknown option: `\CurrentOption'}}

\ProcessOptions\relax

\makeatletter
% see \bbl@allowhyphens (from babel) and \prw@zbreak (from hyphenat)
\NewDocumentCommand{\@allowhyphens}{}{%
  \nobreak\hskip\z@skip%
}
\NewDocumentCommand{\connector}{m}{%
  \@allowhyphens#1\@allowhyphens%
}
\NewDocumentCommand{\nbconnector}{m}{%
  \nobreak\hbox{#1}\@allowhyphens%
}
\NewDocumentCommand{\DeclareConnectors}{mmm}{%
  \NewDocumentCommand{#1}{}{\connector{#3}}%
  \NewDocumentCommand{#2}{}{\nbconnector{#3}}%
}

\DeclareConnectors{\hyp}{\nbhyp}{-}
\DeclareConnectors{\ndash}{\nbndash}{--}
\DeclareConnectors{\mdash}{\nbmdash}{---}
% see \slash (from (La)TeX)
\DeclareConnectors{\fwdslash}{\nbfwdslash}{/\penalty\exhyphenpenalty}

% \discretionary{pre-break}{post-break}{no-break}
\NewDocumentCommand{\spword}{m}{%
  (#1\@allowhyphens\discretionary{-)}{}{)}\@allowhyphens%
}
\NewDocumentCommand{\spwordH}{m}{%
  (#1\@allowhyphens\discretionary{-)}{}{-)}\@allowhyphens%
}
\NewDocumentCommand{\nbspwordH}{m}{%
  (#1\nbhyp{})%
}
\NewDocumentCommand{\SpwordH}{m}{%
  (#1\@allowhyphens\discretionary{--)}{}{--)}\@allowhyphens%
}
\makeatother